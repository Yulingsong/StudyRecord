#####学习github上 [fe-interview](https://github.com/haizlin/fe-interview)，每日三问，慢慢积累。

##一：谈谈你对input元素中readonly和disabled属性的理解

- **相同点**：

  都会使文本框变成只读，不可编辑。

- **不同点**：
   1.disabled属性在将input文本框变成只读不可编辑的同时，还会使文本框变灰，但是readonly不会。
   2.disabled属性修饰后的文本框内容，在不可编辑的同时，通过js也是获取不到的。但是用readonly修饰后的文本框内容，是可以通过js获取到的，也就只是简单的不可编辑而已！
   3.disabled属性对input文本框，单选radio,多选checkbox都适用，但是readonly就不适用，用它修饰后的单选以及多选按钮仍然是可以编辑状态的。

## 二：说说你对line-height是如何理解的？

**一个line boxes没有高度 那么是由内部最大的的inline box的 line－height 决定**

***\*line-height 默认值为nomal chrome浏览器的为1.15\***

#### line-height可以应用于哪些元素

```javascript
* line-height只影响行内元素，并不能直接应用于块级元素。
* line-height 具有可继承性，块级元素的子元素会继承该特性，并且在行内元素上生效。
```

#### 取值

| 值      | 描述                                     |
| ------- | ---------------------------------------- |
| normal  | 默认，设置合理的行间距                   |
| number  | 此数字会与当前字体的尺寸相乘来设置行间距 |
| length  | 设置固定的行间距                         |
| %       | 基于当前尺寸的百分比行间距               |
| inherit | 从父元素继承 line-height 属性的值        |





也可以参考详细理解的：[CSS深入理解之line-height](https://juejin.im/post/5bf805fde51d453a68008e32)  https://juejin.im/post/5bf805fde51d453a68008e32

有个很重要的概念，就是基线，图上红线为基线。指的是一行字横排时下沿的基础线，基线并不是汉字的下端沿，而是英文字母x的下端沿。

![](https://user-gold-cdn.xitu.io/2018/11/23/16740d7b000d6e06?imageView2/0/w/1280/h/960/ignore-error/1)





## 三：写一个方法验证是否为中文

```js
function isChinese(str) {
  return /^[\u4e00-\u9fa5]+$/.test(str);
}
```



## 四：来说说你对重绘和重排的理解，以及如何优化？

借用 **[AnsonZnl](https://github.com/AnsonZnl)**的回答

> 浏览器加载网页时会生成DOM树和CSSOM树

[![img](https://camo.githubusercontent.com/027b9bbc9337de7a5e6b2a5ac977435488aa0994/68747470733a2f2f696d61676573323031372e636e626c6f67732e636f6d2f626c6f672f313230393230352f3230313731302f313230393230352d32303137313031303135313933383032372d3538373338383838362e706e67)](https://upload-images.jianshu.io/upload_images/1062695-a82c507a070e656e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

###重绘：

当盒子的位置、大小以及其他属性，例如颜色、字体大小等都确定下来之后，浏览器便把这些原色都按照各自的特性绘制一遍，将内容呈现在页面上。重绘是指一个元素外观的改变所触发的浏览器行为，浏览器会根据元素的新属性重新绘制，使元素呈现新的外观。
 触发重绘的条件：改变元素外观属性。如：color，background-color，font-size等。

###重排(回流)：

当渲染树中的一部分(或全部)因为元素的规模尺寸，布局，隐藏等改变而需要重新构建, 这就称为回流(reflow)。每个页面至少需要一次回流，就是在页面第一次加载的时候。
 重绘和重排的关系：在回流的时候，浏览器会使渲染树中受到影响的部分失效，并重新构造这部分渲染树，完成回流后，浏览器会重新绘制受影响的部分到屏幕中，该过程称为重绘。
 所以，**重排必定会引发重绘，但重绘不一定会引发重排**。
 　触发重排的条件：任何页面布局和几何属性的改变都会触发重排，
 比如：
 　1、页面渲染初始化；(无法避免)
 　2、添加或删除可见的DOM元素；
 　3、元素位置的改变，或者使用动画；
 　4、元素尺寸的改变——大小，外边距，边框；
 　5、浏览器窗口尺寸的变化（resize事件发生时）；
 　6、填充内容的改变，比如文本的改变或图片大小改变而引起的计算值宽度和高度的改变；
 触发重排的条件：改变元素的大小 位置 等如：width、height、pading、margin、position等，　添加删除DOM操作等
 **重绘重排的代价：耗时，导致浏览器卡慢。**

###优化

1、浏览器自己的优化：浏览器会维护1个队列，把所有会引起回流、重绘的操作放入这个队列，等队列中的操作到了一定的数量或者到了一定的时间间隔，浏览器就会flush队列，进行一个批处理。这样就会让多次的回流、重绘变成一次回流重绘。
 2、我们要注意的优化：我们要减少重绘和重排就是要减少对渲染树的操作，则我们可以合并多次的DOM和样式的修改。并减少对style样式的请求。
 （1）直接改变元素的className
 （2）display：none；先设置元素为display：none；然后进行页面布局等操作；设置完成后将元素设置为display：block；这样的话就只引发两次重绘和重排；
 （3）不要经常访问浏览器的flush队列属性；如果一定要访问，可以利用缓存。将访问的值存储起来，接下来使用就不会再引发回流；
 （4）使用cloneNode(true or false) 和 replaceChild 技术，引发一次回流和重绘；
 （5）将需要多次重排的元素，position属性设为absolute或fixed，元素脱离了文档流，它的变化不会影响到其他元素；
 （6）如果需要创建多个DOM节点，可以使用DocumentFragment创建完后一次性的加入document；